{% extends "layout.html" %}
{% load static %}
{% block head %}
   <script>
      <title>{{ series_title }}</title>
      $(document).ready(function(){
         $("#chapterTitleSearch").on("keyup", function() {
               var value = $(this).val().toLowerCase();
               $("#chapterTable tr").filter(function() {
               $(this).toggle($(this).find("td").text().toLowerCase().indexOf(value) > -1)
               });
         });
      });
   </script>
{% endblock %}
{% block body %}
   <div class="container-fluid">
      <div class="bs-docs-section clearfix pt-2">
         <div class="row justify-content-center">
            <div class="col-lg-2 col-md-4 col-xs-12 mb-4">
               <div class="list-item rounded">
                  <div class="list-content">
                     <div class="list-body d-flex justify-content-between text-center">
                        <span class="text-white text-white font-weight-bold">
                        <i class="far fa-eye text-muted mr-2"></i>
                        {{ series }}
                        </span>
                     </div>
                  </div>
                  <div class="media media-3x4 justify-content-center py-2">
                     <img src="https://images-na.ssl-images-amazon.com/images/I/81%2B380N1RFL.jpg" class="img-fluid" style="width: 15vw" >
                  </div>
               </div>
               <div class="card">
                  <div class="card-body">
                     <table class="table table-borderless">
                        <tbody>
                           <tr>
                              <th>Last Updated</th>
                              <td class="text-muted text-sm" style="text-align: right">{{ chapter_list.0.4 }}</th>
                           </tr>
                           <tr>
                              <th>Author</th>
                              <td class="text-muted text-sm" style="text-align: right">{{ author }}</th>
                           </tr>
                           <tr>
                              <th>Artist</th>
                              <td class="text-muted text-sm" style="text-align: right">{{ artist }}</th>
                           </tr>
                        </tbody>
                     </table>
                  </div>
               </div>
            </div>
            <div class="col-lg-7 col-md-8 col-xs-12 text-muted">
               <div class="heading">
                  <h6 class="text-highlight">
                     Description
                  </h6>
                  <p>{{ synopsis|linebreaks }}</p>
               </div>
               <div class="btn-group"  role="group" >
                  <button type="button" class="tag-display-mode-toggle btn btn-primary btn-sm">Detailed</button>
                  <button type="button" class="tag-display-mode-toggle btn btn-primary btn-sm">Compact</button>
               </div>
               <table id="chapters" class="table table-hover">
                     <thead>
                        <tr>                     
                           <th scope="col">Title&nbsp;&nbsp;&nbsp;&nbsp;<input class="form-control-sm" id="chapterTitleSearch" style="color: #fff !important; background-color: #272B30 !important; border: 1px solid #000 !important" type="text" placeholder="Search.."></th>
                           <th scope="col">Group</th>
                           <th scope="col">Uploaded</th>
                        </tr>
                     </thead>
                     <tbody id="chapterTable">
                        {% for chapter, title, ch_slug, group, upload_date in chapter_list %}                        
                           <tr class="table-default">                           
                                 <td scope="row"><a href="/reader/series/{{ slug }}/{{ ch_slug }}/1">{{ chapter }} - {{ title }}</a></th>
                                 <td scope="row">{{ group }}</td>
                                 <td scope="row">{{ upload_date }}</td>                                 
                           </tr>
                        {% endfor %}
                     </tbody>
               </table>
            </div>
         </div>
      </div>
   </div>
{% endblock %}